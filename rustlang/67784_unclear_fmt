===bug context===
match,some

===buggy code===
self.fill = '0';
self.align = rt::v1::Alignment::Right;
...
post_padding.write(self.buf)

===bug fix===
let old_fill = crate::mem::replace(&mut self.fill, '0');
let old_align = crate::mem::replace(&mut self.align, rt::v1::Alignment::Right);
...
post_padding.write(self.buf)?;
self.fill = old_fill;
self.align = old_align;
